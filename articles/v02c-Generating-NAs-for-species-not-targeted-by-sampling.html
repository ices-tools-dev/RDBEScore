<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>02c Generating NAs for species not targeted by sampling • RDBEScore</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="02c Generating NAs for species not targeted by sampling">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RDBEScore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/v01a-data-import.html">01a Data import</a></li>
    <li><a class="dropdown-item" href="../articles/v01b-manipulating-rdbesdataobjects.html">01b Manipulating RDBESDataObjects</a></li>
    <li><a class="dropdown-item" href="../articles/v02a-generating-probabilities.html">02a Generating probabilities</a></li>
    <li><a class="dropdown-item" href="../articles/v02b-Generating-zeros-for-species-not-observed.html">02b Generating zeros for species not observed</a></li>
    <li><a class="dropdown-item" href="../articles/v02c-Generating-NAs-for-species-not-targeted-by-sampling.html">02c Generating NAs for species not targeted by sampling</a></li>
    <li><a class="dropdown-item" href="../articles/v02d-update-SA-with-taxon-from-SL.html">02d Update SA with taxon from SL</a></li>
    <li><a class="dropdown-item" href="../articles/v03a-Estimating-population-parameters-unbiased-estimator.html">03a Estimating population parameters: unbiased estimator</a></li>
    <li><a class="dropdown-item" href="../articles/v03b-Estimating-population-parameters-ratio-estimator.html">03b Estimating population parameters: ratio estimator</a></li>
    <li><a class="dropdown-item" href="../articles/v04-Create-IC-format-from-estimation-results.html">04 Create IC format from estimation results</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ices-tools-dev/RDBEScore/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>02c Generating NAs for species not targeted by sampling</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ices-tools-dev/RDBEScore/blob/main/vignettes/v02c-Generating-NAs-for-species-not-targeted-by-sampling.Rmd" class="external-link"><code>vignettes/v02c-Generating-NAs-for-species-not-targeted-by-sampling.Rmd</code></a></small>
      <div class="d-none name"><code>v02c-Generating-NAs-for-species-not-targeted-by-sampling.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The aim of this document is demonstrate how the Species List table
(SL) of the RDBES can be used to complement the sample table with NAs in
cases where, e.g., a species was not meant to be looked for. This task
is made easy using function <code>generateNAsUsingSL</code> available in
the <code>RDBEScore</code> package.</p>
</div>
<div class="section level2">
<h2 id="load-the-package">Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ices-tools-dev/RDBEScore" class="external-link">RDBEScore</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-and-validate-example-data">Load and validate example data<a class="anchor" aria-label="anchor" href="#load-and-validate-example-data"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read an example dataset and simplify it to 1 trip and 1 haul [dev bote: this section needs to be reworked when data and filterRDBESDataObject are  updated]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Pckg_survey_apistrat_H1</span><span class="op">)</span></span>
<span><span class="va">myH1DataObject1</span> <span class="op">&lt;-</span> <span class="va">Pckg_survey_apistrat_H1</span></span>
<span><span class="va">myH1DataObject1</span><span class="op">$</span><span class="va">SL</span><span class="op">&lt;-</span><span class="va">myH1DataObject1</span><span class="op">$</span><span class="va">SL</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">myH1DataObject1</span><span class="op">$</span><span class="va">SL</span><span class="op">$</span><span class="va">SLspeclistName</span>, pat<span class="op">=</span><span class="st">"Pckg_survey_apistrat_H1"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="co">#myH1DataObject1&lt;-filterAndTidyRDBESDataObject(myH1DataObject1, fieldsToFilter="FOid",valuesToFilter=70849, killOrphans = TRUE)</span></span>
<span><span class="va">myH1DataObject1</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/filterRDBESDataObject.html">filterRDBESDataObject</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, fieldsToFilter<span class="op">=</span><span class="st">"SSid"</span>,valuesToFilter<span class="op">=</span><span class="fl">227694</span>, killOrphans <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># check it is a valid RDBESobject</span></span>
<span><span class="fu"><a href="../reference/validateRDBESDataObject.html">validateRDBESDataObject</a></span><span class="op">(</span><span class="va">myH1DataObject1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-closer-look-the-example-data-and-its-characteristics">A closer look the example data and its characteristics<a class="anchor" aria-label="anchor" href="#a-closer-look-the-example-data-and-its-characteristics"></a>
</h2>
<p>The example is from data in hierarchy 1. It contains a single trip
with a single haul. For simplicity, we restrict our analysis to the
tables SL, SS and SA which are the ones handled by the functions we
which behaviour we want to demonstrate.</p>
<p>Examining a print of the Species List (SL) and Individual Species
(IS) tables one can conclude that the sampling targeted the landings of
only 1 species. In this case the species was <em>Nephrops
norvegicus</em> (aphiaId 107254).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SL"</span>,<span class="st">"IS"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; $SL</span></span>
<span><span class="co">#&gt; Key: &lt;SLid&gt;</span></span>
<span><span class="co">#&gt;     SLid SLrecType  SLcou SLinst                             SLspeclistName</span></span>
<span><span class="co">#&gt;    &lt;int&gt;    &lt;char&gt; &lt;char&gt; &lt;char&gt;                                     &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 47891        SL     ZW   4484 WGRDBES-EST_TEST_1_Pckg_survey_apistrat_H1</span></span>
<span><span class="co">#&gt;    SLyear SLcatchFrac</span></span>
<span><span class="co">#&gt;     &lt;int&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:   1965         Lan</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $IS</span></span>
<span><span class="co">#&gt; Key: &lt;ISid&gt;</span></span>
<span><span class="co">#&gt;     ISid  SLid ISrecType IScommTaxon ISsppCode</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;num&gt;    &lt;char&gt;       &lt;int&gt;     &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:  1001 47891        IS      107254    107254</span></span></code></pre></div>
<p>Examining a print of the Species Selection table (SS), one can
confirm that only one fishing operation is present in the data (FOid
70849) and that landings were indeed sampled from it (for simplicity
only a subset of columns is printed).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SS"</span><span class="op">)</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SSid&gt;</span></span>
<span><span class="co">#&gt;      SSid  LEid  FOid  TEid  FTid  SLid  OSid SSrecType SSseqNum</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1: 227694    NA 70849    NA    NA 47891    NA        SS        1</span></span>
<span><span class="co">#&gt;    SSstratification SSstratumName SSclustering SSclusterName SSobsActTyp</span></span>
<span><span class="co">#&gt;              &lt;char&gt;        &lt;char&gt;       &lt;char&gt;        &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:                N             U            N             U        Sort</span></span>
<span><span class="co">#&gt;    SScatchFra</span></span>
<span><span class="co">#&gt;        &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:        Lan</span></span></code></pre></div>
<p>Given the previous, it is expected that if <em>Nephrops
norvegicus</em> was sampled it will appear in the RDBES Sample table
(SA). One can confirm that happened by printing that table (for
simplicity only a subset of columns is printed).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SA"</span><span class="op">)</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">48</span><span class="op">:</span><span class="fl">49</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SAid&gt;</span></span>
<span><span class="co">#&gt;      SAid   SSid  LEid SArecType SAseqNum SAparSequNum SAstratification</span></span>
<span><span class="co">#&gt;     &lt;num&gt;  &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;num&gt;        &lt;num&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 572813 227694    NA        SA        1           NA                N</span></span>
<span><span class="co">#&gt;    SAstratumName SAspeCode SAtotalWtMes SAsampWtMes</span></span>
<span><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;        &lt;int&gt;       &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:             U    107254          276         276</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="generating-nas-for-species-not-looked-for">Generating NAs for species not looked for<a class="anchor" aria-label="anchor" href="#generating-nas-for-species-not-looked-for"></a>
</h2>
<p>Suppose we want to consult the data to produce an estimate of, e.g.,
cod (aphiaId 126436). That species was not targeted by the sampling
programme and it is impossible to infer from the data if it was or not
present alongside <em>Nephrops norvegicus</em> during the sampling. The
total weight measured (SAtotalWtMes) of cod should therefore be
considered missing (NA).</p>
<p>The function does that (again for convenience, only a few columns of
the SA table are printed).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1updte</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/generateNAsUsingSL.html">generateNAsUsingSL</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, targetAphiaId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"126436"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">myH1DataObject1updte</span><span class="op">$</span><span class="va">SA</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">48</span><span class="op">:</span><span class="fl">49</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SAid&gt;</span></span>
<span><span class="co">#&gt;      SAid   SSid  LEid SArecType SAseqNum SAparSequNum SAstratification</span></span>
<span><span class="co">#&gt;     &lt;num&gt;  &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;num&gt;        &lt;num&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 572813 227694    NA        SA    1.000           NA                N</span></span>
<span><span class="co">#&gt; 2: 572813 227694    NA        SA    1.001           NA                N</span></span>
<span><span class="co">#&gt;    SAstratumName SAspeCode SAtotalWtMes SAsampWtMes</span></span>
<span><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;        &lt;int&gt;       &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:             U    107254          276         276</span></span>
<span><span class="co">#&gt; 2:             U    126436           NA          NA</span></span></code></pre></div>
<p>Note that the new rows have floating points values for SAid, and
SAseqNum (we use sprintf to ensure the decimal places are displayed).
This facilitates the ordering of the samples and prevents overlaps when
different datasets are joined. Also a SAunitName was created for the new
row that builds on the SAid and helps to make the row more readily
identifiable.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="va">myH1DataObject1updte</span><span class="op">[[</span><span class="st">'SA'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">SAid</span>, fmt <span class="op">=</span> <span class="st">'%.3f'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "572813.000" "572813.001"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="va">myH1DataObject1updte</span><span class="op">[[</span><span class="st">'SA'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">SAseqNum</span>, fmt <span class="op">=</span> <span class="st">'%.3f'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1.000" "1.001"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">myH1DataObject1updte</span><span class="op">[[</span><span class="st">'SA'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">SAunitName</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1"                "NAgen_572813.001"</span></span></code></pre></div>
<p>Note that argument <code>targetAphiaId</code> in the function
<code>generateNAsUsingSL</code> can also accept a vector thus allowing
generation of NAs for multiple species in one go. In the example below
<em>Pandalus borealis</em> is added to the call.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1updte</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/generateNAsUsingSL.html">generateNAsUsingSL</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, targetAphiaId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"126436"</span>,<span class="st">"107649"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">myH1DataObject1updte</span><span class="op">$</span><span class="va">SA</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">48</span><span class="op">:</span><span class="fl">49</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SAid&gt;</span></span>
<span><span class="co">#&gt;      SAid   SSid  LEid SArecType SAseqNum SAparSequNum SAstratification</span></span>
<span><span class="co">#&gt;     &lt;num&gt;  &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;num&gt;        &lt;num&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 572813 227694    NA        SA    1.000           NA                N</span></span>
<span><span class="co">#&gt; 2: 572813 227694    NA        SA    1.001           NA                N</span></span>
<span><span class="co">#&gt; 3: 572813 227694    NA        SA    1.002           NA                N</span></span>
<span><span class="co">#&gt;    SAstratumName SAspeCode SAtotalWtMes SAsampWtMes</span></span>
<span><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;        &lt;int&gt;       &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:             U    107254          276         276</span></span>
<span><span class="co">#&gt; 2:             U    126436           NA          NA</span></span>
<span><span class="co">#&gt; 3:             U    107649           NA          NA</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dealing-with-diligent-observers">Dealing with diligent observers<a class="anchor" aria-label="anchor" href="#dealing-with-diligent-observers"></a>
</h2>
<p>In many practical situations, diligent observers sometimes record
more species than those expected. Such “excess” data is frequently
useless from an estimation point-of-view (because the sampling is
observer-dependent and therefore likely non-representative), but in
analyses (e.g., distribution of rare species) or summaries (e.g., totals
of biomass sampled) it may be useful to preserve them in the data.</p>
<p>The difference between these two cases can be specified via the
argument <code>overwriteSampled</code> in the function
<code>generateNAsUsingSL</code>. By default (estimation case) the
argument is set to TRUE which makes <code>generateNAsUsingSL</code> set
the weights of these extra species to NA. But, by explicitly setting
that argument as <code>overwriteSampled=FALSE</code> the information
collected can also kept.</p>
<p>To demonstrate this we carry out a small alteration of the example
data, removing the <em>Nephrops norvegicus</em> from the Species List.
This creates a somewhat atypical situation: a haul where nothing was
supposed to be looked for but still <em>Nephrops norvegicus</em> was
registered. We use such situation here for sake of a simple example.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># we remove *Nephrops norvegicus*</span></span>
<span><span class="va">myH1DataObject1</span><span class="op">$</span><span class="va">IS</span><span class="op">&lt;-</span><span class="va">myH1DataObject1</span><span class="op">$</span><span class="va">IS</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span></span>
<span><span class="co"># Note that because IS has 0 rows, the object stopped validating</span></span>
<span><span class="fu"><a href="../reference/validateRDBESDataObject.html">validateRDBESDataObject</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, strict <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in validateRDBESDataObject(myH1DataObject1, strict = FALSE):</span></span>
<span><span class="co">#&gt; objectToCheck contains a non-empty SL table but the IS table is either NULL or</span></span>
<span><span class="co">#&gt; empty.</span></span></code></pre></div>
<p>Now we call <code>generateNAsUsingSL</code> for <em>Nephrops
norvegicus</em> with its implicit default
<code>overwriteSampled=TRUE</code> (regular estimation case). It is
noticeable that the function sets weights of that species to NA</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1updte</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/generateNAsUsingSL.html">generateNAsUsingSL</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, </span>
<span>                                         targetAphiaId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"107254"</span><span class="op">)</span>, validate <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">myH1DataObject1updte</span><span class="op">$</span><span class="va">SA</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">48</span><span class="op">:</span><span class="fl">49</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SAid&gt;</span></span>
<span><span class="co">#&gt;      SAid   SSid  LEid SArecType SAseqNum SAparSequNum SAstratification</span></span>
<span><span class="co">#&gt;     &lt;num&gt;  &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;num&gt;        &lt;num&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 572813 227694    NA        SA        1           NA                N</span></span>
<span><span class="co">#&gt;    SAstratumName SAspeCode SAtotalWtMes SAsampWtMes</span></span>
<span><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;        &lt;int&gt;       &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:             U    107254           NA          NA</span></span></code></pre></div>
<p>If, on the other hand, we are interested in keeping all available
data, we set <code>overwriteSampled=FALSE</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myH1DataObject1updte</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/generateNAsUsingSL.html">generateNAsUsingSL</a></span><span class="op">(</span><span class="va">myH1DataObject1</span>, </span>
<span>                                         targetAphiaId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"107254"</span><span class="op">)</span>, validate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                                         overwriteSampled<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">myH1DataObject1updte</span><span class="op">$</span><span class="va">SA</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,<span class="fl">48</span><span class="op">:</span><span class="fl">49</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Key: &lt;SAid&gt;</span></span>
<span><span class="co">#&gt;      SAid   SSid  LEid SArecType SAseqNum SAparSequNum SAstratification</span></span>
<span><span class="co">#&gt;     &lt;num&gt;  &lt;int&gt; &lt;int&gt;    &lt;char&gt;    &lt;num&gt;        &lt;num&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 572813 227694    NA        SA        1           NA                N</span></span>
<span><span class="co">#&gt;    SAstratumName SAspeCode SAtotalWtMes SAsampWtMes</span></span>
<span><span class="co">#&gt;           &lt;char&gt;    &lt;char&gt;        &lt;int&gt;       &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:             U    107254          276         276</span></span></code></pre></div>
<p>See also other package vignettes:</p>
<ul>
<li><a href="v01a-data-import.html">v01a data import</a></li>
<li><a href="v01b-manipulating-rdbesdataobjects.html">v01b manipulating
rdbesdataobjects</a></li>
<li><a href="v02a-generating-probabilities.html">v02a generating
probabilities</a></li>
<li><a href="v02b-Generating-zeros-for-species-not-observed.html">v02b
Generating zeros for species not observed</a></li>
<li><a href="v02c-Generating-NAs-for-species-not-targeted-by-sampling.html">v02c
Generating NAs for species not targeted by sampling</a></li>
<li><a href="v02d-update-SA-with-taxon-from-SL.html">v02d update SA with
taxon from SL</a></li>
<li><a href="v03a-Estimating-population-parameters-unbiased-estimator.html">v03a
Estimating population parameters unbiased estimator</a></li>
<li><a href="v03b-Estimating-population-parameters-ratio-estimator.html">v03b
Estimating population parameters ratio estimator</a></li>
<li><a href="v04-Create-IC-format-from-estimation-results.html">v04
Create IC format from estimation results</a></li>
</ul>
<p>#END</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Colin Millar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
