---
title: "Estimating Population parameters from RDBESRawObjects"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Estimating RDBESRawObjects}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction 

The aim of this document is to illustrate how population parameters like total and mean can be estimated using the **estimMC(...)** function.

```{r}
library(icesRDBES)
```

## Prerequisites

First we'll load some example data from the RDBES and check it's valid.  It's a good idea to check your RDBESRawObjects are valid after any manipulations you perform.

```{r load}
h1d <- createRDBESRawObject(rdbesExtractPath = "..\\tests\\testthat\\h1_v_1_19")
h1dValid <- validateRDBESRawObject(h1d, verbose = FALSE)

```

## Multiple Count Estimator

For lower hierarchy tables the number of sampled and measured total 
```{r}
FMidSel <- "254505"
BV <- h1d$BV[h1d$BV$FMid == FMidSel,]
```


```{r}
BV$BVvalueMeas <-as.numeric(BV$BVvalueMeas)
estimMC(BV$BVvalueMeas, sampled = BV$BVnumSamp, total = BV$BVnumTotal)
```

```{r}
SAidSel <- h1d$FM[h1d$FM$FMid == FMidSel,][["SAid"]]
SA <- h1d$SA[h1d$SA$SAid == SAidSel,]
```

```{r}

```



```{r}
#END
```

