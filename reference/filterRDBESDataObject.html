<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Filter an RDBESDataObject — filterRDBESDataObject • RDBEScore</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filter an RDBESDataObject — filterRDBESDataObject"><meta name="description" content="The returned object will include all rows which either: a) do not included
any of the field names in fieldsToFilter, or b) do include the field names
and have one of the allowed values in valuesToFilter.
If you want to filter for a id field like DEid, FTid etc, the filtering
works only on the table where the id field is its key. For example, if you
try to filter on FOid it does not look  FOid in other tables like FT,
although the field FOid exists in FT table."><meta property="og:description" content="The returned object will include all rows which either: a) do not included
any of the field names in fieldsToFilter, or b) do include the field names
and have one of the allowed values in valuesToFilter.
If you want to filter for a id field like DEid, FTid etc, the filtering
works only on the table where the id field is its key. For example, if you
try to filter on FOid it does not look  FOid in other tables like FT,
although the field FOid exists in FT table."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RDBEScore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01a-data-import.html">01a Data import</a></li>
    <li><a class="dropdown-item" href="../articles/v01b-manipulating-rdbesdataobjects.html">01b Manipulating RDBESDataObjects</a></li>
    <li><a class="dropdown-item" href="../articles/v02a-generating-probabilities.html">02a Generating probabilities</a></li>
    <li><a class="dropdown-item" href="../articles/v02b-Generating-zeros-for-species-not-observed.html">02b Generating zeros for species not observed</a></li>
    <li><a class="dropdown-item" href="../articles/v02c-Generating-NAs-for-species-not-targeted-by-sampling.html">02c Generating NAs for species not targeted by sampling</a></li>
    <li><a class="dropdown-item" href="../articles/v02d-update-SA-with-taxon-from-SL.html">02d Update SA with taxon from SL</a></li>
    <li><a class="dropdown-item" href="../articles/v03a-Estimating-population-parameters-unbiased-estimator.html">03a Estimating population parameters: unbiased estimator</a></li>
    <li><a class="dropdown-item" href="../articles/v03b-Estimating-population-parameters-ratio-estimator.html">03b Estimating population parameters: ratio estimator</a></li>
    <li><a class="dropdown-item" href="../articles/v04-Create-IC-format-from-estimation-results.html">04 Create IC format from estimation results</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ices-tools-dev/RDBEScore/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Filter an RDBESDataObject</h1>
      <small class="dont-index">Source: <a href="https://github.com/ices-tools-dev/RDBEScore/blob/main/R/filterRDBESDataObject.R" class="external-link"><code>R/filterRDBESDataObject.R</code></a></small>
      <div class="d-none name"><code>filterRDBESDataObject.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The returned object will include all rows which either: a) do not included
any of the field names in <code>fieldsToFilter</code>, or b) do include the field names
and have one of the allowed values in <code>valuesToFilter</code>.
If you want to filter for a id field like <code>DEid</code>, <code>FTid</code> etc, the filtering
works only on the table where the id field is its key. For example, if you
try to filter on <code>FOid</code> it does not look  <code>FOid</code> in other tables like <code>FT</code>,
although the field <code>FOid</code> exists in <code>FT</code> table.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filterRDBESDataObject</span><span class="op">(</span></span>
<span>  <span class="va">RDBESDataObjectToFilter</span>,</span>
<span>  <span class="va">fieldsToFilter</span>,</span>
<span>  <span class="va">valuesToFilter</span>,</span>
<span>  killOrphans <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  strict <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rdbesdataobjecttofilter">RDBESDataObjectToFilter<a class="anchor" aria-label="anchor" href="#arg-rdbesdataobjecttofilter"></a></dt>
<dd><p>The <code>RDBESDataObject</code> to filter</p></dd>


<dt id="arg-fieldstofilter">fieldsToFilter<a class="anchor" aria-label="anchor" href="#arg-fieldstofilter"></a></dt>
<dd><p>A vector of the field names you wish to check</p></dd>


<dt id="arg-valuestofilter">valuesToFilter<a class="anchor" aria-label="anchor" href="#arg-valuestofilter"></a></dt>
<dd><p>A vector of the field values you wish to filter for</p></dd>


<dt id="arg-killorphans">killOrphans<a class="anchor" aria-label="anchor" href="#arg-killorphans"></a></dt>
<dd><p>Controls if orphan rows are removed. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(Optional) Set to TRUE if you want informative text printed
out, or FALSE if you don't.  The default is FALSE.</p></dd>


<dt id="arg-strict">strict<a class="anchor" aria-label="anchor" href="#arg-strict"></a></dt>
<dd><p>(Optional) This function validates its input data - should
the validation be strict? The default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the filtered input object of the same class as
<code>RDBESDataObjectToFilter</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>killOrphans</code> allows you to remove orphaned rows if set to <code>TRUE</code>. The
default is <code>FALSE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">myH1RawObject</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="importRDBESDataCSV.html">importRDBESDataCSV</a></span><span class="op">(</span>rdbesExtractPath <span class="op">=</span> <span class="st">"tests\\testthat\\h1_v_1_19"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">myFields</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SDctry"</span>, <span class="st">"VDctry"</span>, <span class="st">"VDflgCtry"</span>, <span class="st">"FTarvLoc"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myValues</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZW"</span>, <span class="st">"ZWBZH"</span>, <span class="st">"ZWVFA"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">myFilteredObject</span> <span class="op">&lt;-</span> <span class="fu">filterRDBESDataObject</span><span class="op">(</span><span class="va">myH1RawObject</span>,</span></span>
<span class="r-in"><span>  fieldsToFilter <span class="op">=</span> <span class="va">myFields</span>,</span></span>
<span class="r-in"><span>  valuesToFilter <span class="op">=</span> <span class="va">myValues</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Inverse filtering (exclude certain values)</span></span></span>
<span class="r-in"><span><span class="co"># Example: keep all DE rows except those with DEid in `excludedValues`</span></span></span>
<span class="r-in"><span><span class="co"># Compute the complement of the excluded set using setdiff</span></span></span>
<span class="r-in"><span><span class="va">allValues</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">myH1RawObject</span><span class="op">$</span><span class="va">DE</span><span class="op">$</span><span class="va">DEid</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">excludedValues</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5351</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myInverseFiltered</span> <span class="op">&lt;-</span> <span class="fu">filterRDBESDataObject</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">myH1RawObject</span>,</span></span>
<span class="r-in"><span>  fieldsToFilter <span class="op">=</span> <span class="st">"DEid"</span>,</span></span>
<span class="r-in"><span>  valuesToFilter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">allValues</span>, <span class="va">excludedValues</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Colin Millar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

